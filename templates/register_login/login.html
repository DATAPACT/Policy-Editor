{% extends 'base.html' %}
{% block title %} Login {% endblock %}
{% block inpagecss %}
    .login-form {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh; /* Set the height of the container to the full viewport height */
    }
{% endblock %}
{% block content %}
    <main id="main">
    <section id="faq" class="faq">

      <div class="container" data-aos="fade-up">

        <header class="section-header">
          <p>Sign In</p>
        </header>

        <div class="row">
            <div class="col-lg-2">
                  {% for message in messages %}
                    <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                        <strong>Message:</strong> {{ message }}
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                    </div>
                    {% endfor %}
            </div>
          <div class="col-lg-8">
                <form method="POST" action="{% url 'login' %}">
                    {% csrf_token %}
					<input type="hidden" name="request_query" class="form-control" id="request_query" value="DUMMY">
                  <div class="mb-4">
                    <label for="username" class="form-label">Username</label>
                    <input type="username" class="form-control" name="username" id="username" aria-describedby="usernameHelp">
                    <div id="usernameHelp" class="form-text">Enter your registered username.</div>
                  </div>
                  <div class="mb-4">
                    <label for="password" class="form-label">Password</label>
                    <input type="password" name="password" class="form-control" id="password">
                  </div>

                  <button type="submit" class="btn btn-primary">Login</button>
                   <div class="mb-3">
                    <a href="{% url 'register' %}">Register</a>
                  </div>
                </form>

          </div>
        <div class="col-lg-2"></div>
          </div>

        </div>

      </div>

    </section><!-- End F.A.Q Section -->
 </main><!-- End #main -->
 
 <script>
 
 document.addEventListener('DOMContentLoaded', () => {
// START ################### document.addEventListener('DOMContentLoaded',

    // CM0304
	// https://stackoverflow.com/questions/979975/get-the-values-from-the-get-parameters-javascript
	function getQueryParams(qs) {
        qs = qs.split('+').join(' ');

        var params = {},
            tokens,
            re = /[?&]?([^=]+)=([^&]*)/g;

        while (tokens = re.exec(qs)) {
            params[decodeURIComponent(tokens[1])] = decodeURIComponent(tokens[2]);
        }

        return params;
    }
	
	
    var query = getQueryParams(document.location.search);
	
	query_items=Object.keys(query)
	
	for (const element of query_items) {
        if ( element == "next"){
		    console.log(query.next);
			document.getElementById("request_query").value = query.next
		}
    }
})
 </script>


{% endblock %}
```